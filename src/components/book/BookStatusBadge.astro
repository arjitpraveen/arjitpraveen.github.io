---
import { Badge } from '@/components/ui/badge'
import { Icon } from 'astro-icon/components'
import { cn } from '@/lib/utils'
import type { BookStatus } from './books'

interface Props {
  status: BookStatus
  className?: string
}

const { status, className = '' } = Astro.props

const STATUS_MAP = {
  reading: {
    label: 'Reading',
    icon: 'lucide:book-open',
    class: 'bg-blue-950/30 text-blue-200 border border-blue-700',
  },
  'to-read': {
    label: 'To read',
    icon: 'lucide:bookmark',
    class: 'bg-amber-950/30 text-amber-200 border border-amber-700',
  },
  finished: {
    label: 'Finished',
    icon: 'lucide:check-circle',
    class: 'bg-green-950/30 text-green-200 border border-green-700',
  },
  dropped: {
    label: 'Dropped',
    icon: 'lucide:x-circle',
    class: 'bg-red-950/30 text-red-200 border border-red-700',
  },
} as const

const config = STATUS_MAP[status]
---

<Badge variant="muted" className={cn(config.class, 'w-fit gap-1 text-xs', className)}>
  <Icon name={config.icon} class="size-3.5" />
  {config.label}
</Badge>
